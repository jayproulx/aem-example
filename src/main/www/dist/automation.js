require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"57gZCM":[function(require,module,exports){
module.exports=angular.module("automation.config",[]).value("defaultsUrl","/aem-example/bin/house/defaults.json").value("lightsOnUrl","/aem-example/bin/house/lights/on.json").value("lightsOffUrl","/aem-example/bin/house/lights/off.json").value("temperatureSetUrl","/aem-example/bin/house/temperature/set.json");
},{}],"automation/automation.config.gh-pages":[function(require,module,exports){
module.exports=require('57gZCM');
},{}],"98HH9l":[function(require,module,exports){
module.exports=angular.module("automation.config",[]).value("defaultsUrl","/bin/house/defaults.json").value("lightsOnUrl","/bin/house/lights/on.json").value("lightsOffUrl","/bin/house/lights/off.json").value("temperatureSetUrl","/bin/house/temperature/set.json");
},{}],"automation/automation.config":[function(require,module,exports){
module.exports=require('98HH9l');
},{}],"p8iBt2":[function(require,module,exports){
var config=require("automation/automation.config");angular.module("automation",["ui.bootstrap","automation.config"]).factory("DefaultsService",["$http","defaultsUrl",function(e,o){var t={};return t.getDefaults=function(){return e({method:"GET",url:o})},t}]).factory("LightsService",["$http","lightsOffUrl","lightsOnUrl",function(e,o,t){var r={};return r.turnOff=function(t){return e({method:"GET",url:o,params:{room:t}})},r.turnOn=function(o){return e({method:"GET",url:t,params:{room:o}})},r}]).factory("TemperatureService",["$http","temperatureSetUrl",function(e,o){var t={};return t.setTemperature=function(t,r){return e({method:"GET",url:o,params:{zone:t,temperature:r}})},t}]).controller("AutomationCtrl",["$rootScope","$scope","$timeout","DefaultsService",function(e,o,t,r){o.temperatures=[{label:"15°C",value:15},{label:"16°C",value:16},{label:"17°C",value:17},{label:"18°C",value:18},{label:"19°C",value:19},{label:"20°C",value:20},{label:"21°C",value:21},{label:"22°C",value:22},{label:"23°C",value:23},{label:"24°C",value:24},{label:"25°C",value:25}],r.getDefaults().success(function(r){t(function(){o.zones=r.zones,o.rooms=r.rooms;for(var t in o.rooms)o.updateRoom(t);for(var a in o.zones)o.updateZone(a);e.$broadcast("defaults-loaded",r)},1e3)}).error(function(){}),o.updateZone=function(e){console.log("broadcasting update-zone for "+e),o.$broadcast("update-zone",e,o.zones[e])},o.persistZone=function(e){console.log("broadcasting persist-zone for "+e),o.$broadcast("persist-zone",e,o.zones[e])},o.updateRoom=function(e){console.log("broadcasting update-room for "+e),o.$broadcast("update-room",e,o.rooms[e])}}]).controller("RoomCtrl",["$rootScope","$scope","$timeout","LightsService",function(e,o,t,r){o.name=o.name||"unknown-room",o.lights=!1,o.$on("update-room",function(t,r,a){o.name==r&&(console.log("on update-room for "+r,a),o.lights=a.lights,e.$broadcast("room-updated",r,a))}),o.toggleLights=function(){var a=o.lights,n=!o.lights,u=n?r.turnOn:r.turnOff;o.lights=void 0,u(o.name).success(function(r){t(function(){o.lights=r.lights},1e3),e.$broadcast("room-updated",o.name,{lights:o.lights})}).error(function(r,n,u,l){t(function(){e.$broadcast("room-update-error",o.name,{data:r,status:n,headers:u,config:l}),o.lights=a},1e3)})}}]).controller("ZoneCtrl",["$rootScope","$scope","$timeout","TemperatureService",function(e,o,t,r){o.name=o.name||"unknown-zone",o.temperature=20,o.$on("update-zone",function(t,r,a){o.name==r&&(console.log("on update-zone for "+r,a),o.temperature=a.temperature,e.$broadcast("zone-updated",r,{temperature:a.temperature}))}),o.$on("persist-zone",function(e,t,r){o.name==t&&(console.log("on update-zone for "+t,r),o.setTemperature(r.temperature))}),o.setTemperature=function(t){var a=o.temperature;r.setTemperature(o.name,t).success(function(){o.temperature=t,e.$broadcast("zone-updated",o.name,{temperature:t})}).error(function(t,r,n,u){e.$broadcast("zone-update-error",o.name,{data:t,status:r,headers:n,config:u}),o.temperature=a})}}]);
},{"automation/automation.config":"98HH9l"}],"automation/automation":[function(require,module,exports){
module.exports=require('p8iBt2');
},{}]},{},["p8iBt2"])
;