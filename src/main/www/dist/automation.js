require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var controllers=require("automation/controllers"),directives=require("automation/directives"),adapter=require("automation/adapter");module.exports=angular.module("automation",["ui.bootstrap","automation.controllers","automation.directives","automation.adapter"]);
},{"automation/adapter":"UOS8QZ","automation/controllers":"lq1gDp","automation/directives":"F79/c7"}],"UOS8QZ":[function(require,module,exports){
module.exports=angular.module("automation.adapter",[]).run(["$rootScope","$document",function(o,n){var t=function(o){var t=Array.prototype.slice.call(arguments,1);n.trigger(o.name,t)},a=function(n){var t=Array.prototype.slice.call(arguments,1);t.unshift(n.type),o.$broadcast.apply(o,t)};n.on("load-defaults",function(o){a(o)}),n.on("update-room",function(o,n,t){a(o,n,t)}),n.on("update-zone",function(o,n,t){a(o,n,t)}),o.$on("defaults-loaded",function(o,n){t(o,n)}),o.$on("defaults-load-error",function(o,n){t(o,n)}),o.$on("room-updated",function(o,n,a){t(o,n,a)}),o.$on("room-update-error",function(o,n,a){t(o,n,a)}),o.$on("zone-updated",function(o,n,a){t(o,n,a)}),o.$on("zone-update-error",function(o,n,a){t(o,n,a)})}]);
},{}],"automation/adapter":[function(require,module,exports){
module.exports=require('UOS8QZ');
},{}],"automation/config.gh-pages":[function(require,module,exports){
module.exports=require('A86jH9');
},{}],"A86jH9":[function(require,module,exports){
module.exports=angular.module("automation.config",[]).value("defaultsUrl","/aem-example/bin/house/defaults.json").value("roomSetUrl","/aem-example/bin/house/room.json").value("zoneSetUrl","/aem-example/bin/house/zone.json").value("lightsOnUrl","/aem-example/bin/house/lights/on.json").value("lightsOffUrl","/aem-example/bin/house/lights/off.json").value("temperatureSetUrl","/aem-example/bin/house/temperature/set.json");
},{}],"T2ncs/":[function(require,module,exports){
module.exports=angular.module("automation.config",[]).value("defaultsUrl","/bin/house/defaults.json").value("roomSetUrl","/bin/house/room.json").value("zoneSetUrl","/bin/house/zone.json").value("lightsOnUrl","/bin/house/lights/on.json").value("lightsOffUrl","/bin/house/lights/off.json").value("temperatureSetUrl","/bin/house/temperature/set.json");
},{}],"automation/config":[function(require,module,exports){
module.exports=require('T2ncs/');
},{}],"lq1gDp":[function(require,module,exports){
var services=require("automation/services");module.exports=angular.module("automation.controllers",["automation.services"]).controller("AutomationCtrl",["$rootScope","$scope","DefaultsService",function(o,e,a){e.rooms={},e.zones={},e.temperatures=[{label:"15°C",value:15},{label:"16°C",value:16},{label:"17°C",value:17},{label:"18°C",value:18},{label:"19°C",value:19},{label:"20°C",value:20},{label:"21°C",value:21},{label:"22°C",value:22},{label:"23°C",value:23},{label:"24°C",value:24},{label:"25°C",value:25}],e.loadDefaults=function(){a.getDefaults().success(function(a){var n,t;e.zones=a.zones,e.rooms=a.rooms,o.$broadcast("defaults-loaded",a);for(n in e.rooms)e.rooms.hasOwnProperty(n)&&e.updateRoom(n,!0);for(t in e.zones)e.zones.hasOwnProperty(t)&&e.updateZone(t,!0)}).error(function(e,a,n,t){o.$broadcast("defaults-load-error",{data:e,status:a,headers:n,config:t})})},e.loadDefaults(),e.$on("load-defaults",function(){e.loadDefaults()}),e.updateZone=function(o,a){e.$broadcast("update-zone",o,e.zones[o],a)},e.updateRoom=function(o,a){e.$broadcast("update-room",o,e.rooms[o],a)}}]).controller("RoomCtrl",["$element","$rootScope","$scope","RoomService",function(o,e,a,n){a.name=a.name||o.attr("id"),a.room={lights:!1,curtains:!1},!a.initialized&&a.rooms&&a.rooms[a.name]&&(a.room=a.rooms[a.name],a.initialized=!0),a.toggleLights=function(){var o=Object.create(a.room);o.lights=!o.lights,a.setRoom(a.name,o)},a.$on("update-room",function(o,n,t,r){if(a.name===n){if(void 0===t)return e.$broadcast("room-update-error",n,{data:"room object cannot be undefined",status:"400",headers:void 0,config:void 0}),void(console&&console.error&&console.error("Error handling update-room: Room object cannot be undefined"));r?(a.room=t,e.$broadcast("room-updated",n,t)):a.setRoom(n,t)}}),a.setRoom=function(o,t){var r=a.room;a.room.lights=void 0,n.setRoom(o,t).success(function(){a.room.lights=t.lights,e.$broadcast("room-updated",o,t)}).error(function(n,t,s,d){e.$broadcast("room-update-error",o,{data:n,status:t,headers:s,config:d}),a.room=r})}}]).controller("ZoneCtrl",["$element","$rootScope","$scope","ZoneService",function(o,e,a,n){a.name=a.name||o.attr("id"),a.zone={fan:!1,temperature:20},!a.initialized&&a.zones&&a.zones[a.name]&&(a.zone=a.zones[a.name],a.initialized=!0),a.$on("update-zone",function(o,n,t,r){if(a.name==n){if(void 0===t)return e.$broadcast("zone-update-error",n,{data:"zone object cannot be undefined",status:"400",headers:void 0,config:void 0}),void(console&&console.error&&console.error("Error handling update-zone: Zone object cannot be undefined"));r?(a.zone=t,e.$broadcast("zone-updated",n,a.zone)):a.updateZone(t)}}),a.updateZone=function(o){var t=a.zone;n.setZone(a.name,o).success(function(){a.zone=o,e.$broadcast("zone-updated",a.name,a.zone)}).error(function(o,n,r,s){e.$broadcast("zone-update-error",a.name,{data:o,status:n,headers:r,config:s}),a.zone=t})}}]);
},{"automation/services":"+c2s+C"}],"automation/controllers":[function(require,module,exports){
module.exports=require('lq1gDp');
},{}],"F79/c7":[function(require,module,exports){
module.exports=angular.module("automation.directives",[]).directive("floorplan",["$window",function(e){return{restrict:"E",transclude:!1,controller:["$scope","$element",function(t,o){t.lastHeight=void 0;var n=e.onresize;e.onresize=function(){t.resizeFloorplan(),"function"==typeof n&&n.apply(e,arguments)},t.resizeFloorplan=function(){var e=o.find("svg"),n=.6*e[0].offsetWidth+"px";n!=t.lastHeight&&(e.css("height",n),t.lastHeight=n)}}],templateUrl:"partials/floorplan.html"}}]);
},{}],"automation/directives":[function(require,module,exports){
module.exports=require('F79/c7');
},{}],"+c2s+C":[function(require,module,exports){
var config=require("automation/config");module.exports=angular.module("automation.services",["automation.config"]).factory("DefaultsService",["$http","defaultsUrl",function(r,t){var e={};return e.getDefaults=function(){return r({method:"GET",url:t})},e}]).factory("RoomService",["$http","roomSetUrl",function(r,t){var e={};return e.setRoom=function(e,n){return r({method:"GET",url:t,params:{name:e,lights:n.lights,curtains:n.curtains}})},e}]).factory("LightsService",["$http","lightsOffUrl","lightsOnUrl",function(r,t,e){var n={};return n.turnOff=function(e){return r({method:"GET",url:t,params:{room:e}})},n.turnOn=function(t){return r({method:"GET",url:e,params:{room:t}})},n}]).factory("ZoneService",["$http","zoneSetUrl",function(r,t){var e={};return e.setZone=function(e,n){return r({method:"GET",url:t,params:{name:e,temperature:n.temperature,fan:n.fan}})},e}]).factory("TemperatureService",["$http","temperatureSetUrl",function(r,t){var e={};return e.setTemperature=function(e,n){return r({method:"GET",url:t,params:{zone:e,temperature:n}})},e}]);
},{"automation/config":"T2ncs/"}],"automation/services":[function(require,module,exports){
module.exports=require('+c2s+C');
},{}]},{},[1])
;