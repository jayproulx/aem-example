require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var services=require("automation/services");module.exports=angular.module("automation",["ui.bootstrap","automation.services"]).controller("AutomationCtrl",["$rootScope","$scope","$timeout","DefaultsService",function(o,e,t,a){"use strict";e.temperatures=[{label:"15°C",value:15},{label:"16°C",value:16},{label:"17°C",value:17},{label:"18°C",value:18},{label:"19°C",value:19},{label:"20°C",value:20},{label:"21°C",value:21},{label:"22°C",value:22},{label:"23°C",value:23},{label:"24°C",value:24},{label:"25°C",value:25}],e.loadDefaults=function(){a.getDefaults().success(function(a){t(function(){var t,n;e.zones=a.zones,e.rooms=a.rooms;for(t in e.rooms)e.updateRoom(t,!0);for(n in e.zones)e.updateZone(n,!0);o.$broadcast("defaults-loaded",a)},1e3)}).error(function(e,t,a,n){o.$broadcast("defaults-load-error",{data:e,status:t,headers:a,config:n})})},e.loadDefaults(),e.$on("load-defaults",function(){e.loadDefaults()}),e.updateZone=function(o,t){e.$broadcast("update-zone",o,e.zones[o],t)},e.updateRoom=function(o,t){e.$broadcast("update-room",o,e.rooms[o],t)}}]).controller("RoomCtrl",["$rootScope","$scope","$timeout","RoomService",function(o,e,t,a){e.name=e.name||"unknown-room",e.room={lights:!1,curtains:!1},e.toggleLights=function(){var o=Object.create(e.room);o.lights=!o.lights,e.setRoom(e.name,o)},e.$on("update-room",function(t,a,n,r){e.name===a&&(r?(e.room=n,o.$broadcast("room-updated",a,n)):e.setRoom(a,n))}),e.setRoom=function(n,r){var s=e.room;e.room.lights=void 0,a.setRoom(n,r).success(function(){t(function(){e.room.lights=r.lights},1e3),o.$broadcast("room-updated",n,r)}).error(function(a,r,l,u){t(function(){o.$broadcast("room-update-error",n,{data:a,status:r,headers:l,config:u}),e.room=s},1e3)})}}]).controller("ZoneCtrl",["$rootScope","$scope","$timeout","ZoneService",function(o,e,t,a){e.name=e.name||"unknown-zone",e.zone={fan:!1,temperature:20},e.$on("update-zone",function(t,a,n,r){e.name==a&&r&&(e.zone=n,o.$broadcast("zone-updated",a,e.zone))}),e.setZone=function(t){var n=e.zone;a.setZone(e.name,t).success(function(){e.zone=t,o.$broadcast("zone-updated",e.name,e.zone)}).error(function(t,a,r,s){o.$broadcast("zone-update-error",e.name,{data:t,status:a,headers:r,config:s}),e.zone=n})}}]).directive("floorplan",["$window",function(o){return{restrict:"E",transclude:!1,controller:["$scope","$element","$attrs","$transclude",function(e,t){e.lastHeight=void 0,o.onresize=function(){e.resizeFloorplan()},e.resizeFloorplan=function(){var o=t.find("svg"),a=.6*o[0].offsetWidth+"px";a!=e.lastHeight&&(o.css("height",a),e.lastHeight=a)}}],templateUrl:"partials/floorplan.html"}}]);
},{"automation/services":"+c2s+C"}],"A86jH9":[function(require,module,exports){
module.exports=angular.module("automation.config",[]).value("defaultsUrl","/aem-example/bin/house/defaults.json").value("roomSetUrl","/aem-example/bin/house/room.json").value("zoneSetUrl","/aem-example/bin/house/zone.json").value("lightsOnUrl","/aem-example/bin/house/lights/on.json").value("lightsOffUrl","/aem-example/bin/house/lights/off.json").value("temperatureSetUrl","/aem-example/bin/house/temperature/set.json");
},{}],"automation/config.gh-pages":[function(require,module,exports){
module.exports=require('A86jH9');
},{}],"T2ncs/":[function(require,module,exports){
module.exports=angular.module("automation.config",[]).value("defaultsUrl","/bin/house/defaults.json").value("roomSetUrl","/bin/house/room.json").value("zoneSetUrl","/bin/house/zone.json").value("lightsOnUrl","/bin/house/lights/on.json").value("lightsOffUrl","/bin/house/lights/off.json").value("temperatureSetUrl","/bin/house/temperature/set.json");
},{}],"automation/config":[function(require,module,exports){
module.exports=require('T2ncs/');
},{}],"+c2s+C":[function(require,module,exports){
var config=require("automation/config");module.exports=angular.module("automation.services",["automation.config"]).factory("DefaultsService",["$http","defaultsUrl",function(r,t){var e={};return e.getDefaults=function(){return r({method:"GET",url:t})},e}]).factory("RoomService",["$http","roomSetUrl",function(r,t){var e={};return e.setRoom=function(e,n){return r({method:"GET",url:t,params:{name:e,lights:n.lights,curtains:n.curtains}})},e}]).factory("LightsService",["$http","lightsOffUrl","lightsOnUrl",function(r,t,e){var n={};return n.turnOff=function(e){return r({method:"GET",url:t,params:{room:e}})},n.turnOn=function(t){return r({method:"GET",url:e,params:{room:t}})},n}]).factory("ZoneService",["$http","zoneSetUrl",function(r,t){var e={};return e.setZone=function(e,n){return r({method:"GET",url:t,params:{name:e,temperature:n.temperature,fan:n.fan}})},e}]).factory("TemperatureService",["$http","temperatureSetUrl",function(r,t){var e={};return e.setTemperature=function(e,n){return r({method:"GET",url:t,params:{zone:e,temperature:n}})},e}]);
},{"automation/config":"T2ncs/"}],"automation/services":[function(require,module,exports){
module.exports=require('+c2s+C');
},{}]},{},[1])
;